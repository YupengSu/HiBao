# HiBao: Accompany you to the old

> Hisilicon Embedded Chip and System Design Competition
>
> Group member: Guanqi Peng, Jiaqi Yang, Yupeng Su.
>
> Advisor: Hao Yu.
>
> Date: 2023. 6.30

## 设计概述

### 设计目的

在社会节奏日益加快的今天，人们在忙碌之余越来越渴望家庭的温暖。恰逢大语言模型的蓝海时期，机器人通过语音与人类进行对话逐渐成为现实，但是，当前市场上的机器人都只能识别特定语义，并没有理解和思考文本能力。

为此，我们设计了一款名为 “H宝” 的智能语音助手，它可以识别家庭成员并定制个性化回答，为空巢老人、留守儿童等特定群体送上温暖，也为年轻一代放松身心、卸下疲惫；还可以成为得力的家庭助手。

### 应用领域

* **智能安全助手**

  H宝配有摄像头和无线HDMI传输模块，能实现远程家庭安全监控，帮助主人了解家中有无异常以及人员出入情况。

* **家庭管理助手**

  H宝能记忆与不同成员对话的上下文信息，实现管理日程、提供资讯等功能。通过语音交互和物联网，提供个性化帮助，并联动其他设备，增强家庭生活便利性。

* **智能情感伴侣**

  H宝具备理解和思考文本的能力。人们可以与H宝分享想法、情绪和问题，获得回应和建议。尤其为特殊群体提供心理保障和情感需求。

### 主要技术特点

1. 人脸检测及识别。Taurus自动检测人脸并与已采集的信息进行比对。
2. 调用OpenAI API获取智能回答。在电脑端搭建服务平台，基于HTTP协议实现板端与电脑端的实时通信。
3. 基于不同用户提供个性化定制对话，并能根据上下文 (历史记录) 有效精准对话。
4. 语音文字转换。通过科大讯飞语音文字转换模块，实现语音到文字转换；通过智能语音播报模块实现文字到语音的转换。
5. 温湿度检测。通过温湿度传感器获取当前环境的温度和湿度。
6. 红外检测。通过红外线传感器判断有无移动物体。
7. 物联网数据采集与控制。实现小程序端对板端的控制及获取数据。
8. RGB灯条控制。使用不同颜色标识H宝的状态，空闲模式下使用渐变灯，等待主人讲话时、回答问题时、微信小程序控制时分别使用绿色、蓝色、红色呼吸灯。
9. 无线HDMI显示。通过Taurus在远程屏幕上显示监测信息。

### 关键性能指标

本系统功能经过测试，结果如下：

1. 在测试集验证中，检测网和分类网模型的正确判断的概率均**超过98%**；在实际验证中，由于环境光线和摄像头分辨率的影响，本组将置信度**超过90%**视作识别成功。
2. 红外检测模块可以较灵敏的识别前方2米内有无遮挡和运动的物体；温湿度测量模块可以正确返回当前环境状况，其中温度测量误差不超过1℃，湿度测量误差不超过5%。
3. 科大讯飞语音模块在处理较长的普通话文本时正确率最高，无错听误听情况。
4. GPT-3.5返回回答的延迟时间不超过5秒钟。为确保获取回答，提高个性化程度，增加联系语境能力，降低返回延迟，软件代码已做处理。
5. 其他控制如语音播报、RGB灯条等控制均无误；串口传输及网络通信稳定。系统功能全面，为用户提供高效的智能控制体验。

### 主要创新点

1. 调用OpenAI API，采用GPT-3.5-turbo模型获取智能回答，能根据不同用户信息个性化定制回答，可以联系上下文掌握语境。

2. 通过HTTP通信协议实现板端与PC端在同一局域网内通信，使用MQTT协议实现Pegasus与微信小程序互联，构建物联网设计。

3. 实现Taurus端的人脸检测与识别。基于YOLO v2网络，使用公开数据集FDDB训练目标检测模型；基于Resnet 18网络，使用Taurus录入个人数据集并手动标注，训练人脸识别模型。

4. 使用科大讯飞语音文字转换模块，实现语音到文字的实时转写。

## 系统组成及功能说明

整体介绍

![image](./HiBao/Picture/程序框图.png)

 

1.2  各模块介绍

根据总体系统框图，给出各模块的具体设计说明。
